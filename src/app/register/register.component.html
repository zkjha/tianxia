


<div class="gamePage">

<!--header-->
<div class="header">
  <div class="w">
    <a href="" class="logo1"></a>
    <a href="" class="logo"></a>
    <!--登录前-->
    <div class="loginBefore">
      <form action="">
        <div class="col1" style="margin-left: 55px;">
          <input type="text" class="txt user" id="J-user-name" data-name="name" name="user-name"  placeholder="账号"/>
          <input type="password" class="txt password" id="J-user-password" data-name="password" name="user-password" placeholder="密码"/>
        </div>
        <div class="col2"  id="J-panel-vcode"  style="display:none;">
          <input type="text" class="txt yzm" placeholder="验证码" maxlength="5"/>
          <img src="/assets/head/yzm.png" class="yzm-img"/>
        </div>
        <div class="col3">
          <div id="J-msg-show" data-display="hide" class="msg-show"></div>
          <input id="J-form-submit" class="submit fl" type="button" value="登 录">


          <a href="/Login/UserRegister" class="regbtn fr" target="_blank">
            注册
          </a>
        </div>
        <input name="__RequestVerificationToken" type="hidden" value="2DvX4sSMGJgBeTdwRLl5zB97Dx2uErHpSFaU6rDQuJjveroBhzdQk0kKDrrhVJV4ZaGG-dEAvyWDScLwMFLxJA2" />
      </form>
    </div>
    <!--nav-->
    <div class="nav">
      <ul>
        <li>
          <a href="/home" class="a1" id="a1"><span>首页</span></a>

        </li>
        <li><a href="/Caipiao" class="a2" id="a2"><span>彩票专区</span></a>
        </li>
        <li><a href="/ZhenRen" class="a3" id="a3" ><span>真人娱乐</span></a>
        </li>
        <li><a href="/DianZi" class="a4" id="a4"><span>电子游艺</span></a>
        </li>
        <li><a href="/Doji" class="a5" id="a5"><span>斗鸡现场</span></a>
        </li>
        <li><a href="/TiYu" class="a6" id="a6"><span>体育博弈</span></a>
        </li>
        <li><a href="/Youhui" class="a7" id="a7"><span>优惠专区</span></a>
        </li>

        <li>
          <a href="&lt;script language=&quot;javascript&quot; src=&quot;http://api.pop800.com/800.js?n=332283&amp;s=01&amp;p=l&amp;l=cn&quot;&gt;&lt;/script&gt;&lt;div style=&quot;display:none;&quot;&gt;&lt;a href=&quot;http://www.pop800.com&quot;&gt;在线客服&lt;/a&gt;&lt;/div&gt;" target="_blank" class="a8" id="a8"><span>在线客服</span></a>
        </li>
      </ul>
    </div>

  </div>
</div>
<!--header end-->
<script src="/Scripts/login.js" type="text/javascript"></script>



<div class="h165"></div>

<!--投注界面-->

<div class="game-main">

  <!--main-->
  <div class="game-main-bd" style="background: #fff;border: 0px solid #AFAFAF; */">


    <div class="game-playfoot2">
      <div class="game-name">
        <h1>
          新用户注册
        </h1>
      </div>

      <div class="regBefore">
        <form id="J-form-password">
          <table border="0" cellspacing="0" cellpadding="0" width="100%">

            <tr>
              <th class="col8">
                账户名称：<input type="text" name="userName" class="txt" id="userName" value="">
                <span class="ui-check" style=""></span>

              </th>
            </tr>
            <tr>
              <th class="col8">
                登录密码：<input type="password" class="txt" name="userPassword" id="userPassword" value="">
                <span class="ui-check"></span>
              </th>
            </tr>
            <tr>
              <th class="col8">
                确认密码：<input type="password" class="txt" name="userPassword2" id="userPassword2" value="">
                <span class="ui-check"></span>

              </th>
            </tr>
            <tr>
              <th class="col8">
                安全邮箱：<input type="text" class="txt" name="email" id="email" value="">
                <span class="ui-check"></span>
              </th>
            </tr>
            <tr>
              <th class="col8">
                &nbsp;&nbsp;&nbsp;验证码：<input type="text" class="txt code" name="checkCode" id="checkCode" value=""> <img class="ui-label" style="cursor:pointer;margin-left:10px" id="valiCodeImg" src="/Login/GetValidateCode" width="50" height="25" alt="验证码">
                <span class="ui-check"></span>
                <input type="hidden" name="keyValue" id="keyValue">

              </th>

            </tr>
            <tr>
              <th class="col1">
                <a href="javascript:void(0);" class="btn btn-orange" id="J-button-submit-password"><span id="J-button-submit-text">提交注册</span> </a>

              </th>
            </tr>
          </table>

        </form>
      </div>
    </div>


  </div>
</div>




<!--footer-->
<!--优势-->
<div style="border-top: 1px solid #ddd;"></div>
<div class="w" >
  <!--<img src="/assets/index/safebg.jpg"/> -->
  <a href="/ChargeWithdrawal/ChargeIndex"><img src="/assets/index/safebg_01.jpg"></a>
  <a href="/UserInformation/QueryUserBasicInfo"><img src="/assets/index/safebg_02.jpg"></a>
  <a href="/gameUserCenter/queryOrders"><img src="/assets/index/safebg_03.jpg"></a>
  <a href="/Help/Helpone"><img src="/assets/index/safebg_04.jpg"></a>
  <a href="&lt;script language=&quot;javascript&quot; src=&quot;http://api.pop800.com/800.js?n=332283&amp;s=01&amp;p=l&amp;l=cn&quot;&gt;&lt;/script&gt;&lt;div style=&quot;display:none;&quot;&gt;&lt;a href=&quot;http://www.pop800.com&quot;&gt;在线客服&lt;/a&gt;&lt;/div&gt;" target="_blank"><img src="/assets/index/safebg_05.jpg"></a>	</div>
<div class="footer">
  <div class="w">
    <div class="foot1">
				<span class="fr">
					<a href="">
						赌博委员会监管条款
					</a>
					|
					<a href="">
						隐私政策
					</a>
					|
					<a href="">
						责任博彩
					</a>
					|
					<a href="">
						安全性
					</a>
					|
					<a href="">
						免责声明
					</a>
				</span>
      <a href="" class="a1" title="客户端下载">客户端下载</a>
      <a href="" class="a2" title="域名验证">域名验证</a>
      <a href="" class="a3" title="线路检测">线路检测</a>
      <a target="_blank" id="custom-service" href="&lt;script language=&quot;javascript&quot; src=&quot;http://api.pop800.com/800.js?n=332283&amp;s=01&amp;p=l&amp;l=cn&quot;&gt;&lt;/script&gt;&lt;div style=&quot;display:none;&quot;&gt;&lt;a href=&quot;http://www.pop800.com&quot;&gt;在线客服&lt;/a&gt;&lt;/div&gt;" class="a4" title="在线客服">在线客服</a>
    </div>
    <div class="foot2 tc">
      Copyright © 2016 天下无双  版权所有 All Rights Reserved.
    </div>
  </div>
</div>


<div id="J-ui-mask-msg" style="position:absolute;display:none;z-index:601;width:360px;" class="pop pop-success w-6">
  <i class="ico-success"></i>
  <h4 class="pop-text">操作成功</h4>
</div>
<div class="pop pop-search" id="Idivs" style="position:absolute;z-index:2;display:none ">
  <div class="hd"><i id="CloseDiv"></i>温馨提示</div>

  <div class="bd">
    <div class="bd text-center">
      <i class="ico-success"></i>
      <h4 class="pop-text">恭喜您,注册会员成功！</h4>
    </div><br>


  </div>
  <a class="btn closeTip" id="closeTip1" style="" href="javascript:void(0);">开始游戏</a>
</div>
<script>
  (function ($) {
    var me = this;

    //输入框
    userName = $('#userName'),
      password = $('#userPassword'),
      password_new = $('#userPassword2'),
      userEmail = $("#email"),
      checkCode = $("#checkCode");


    box = new LightBox("Idivs");
    mask = phoenix.Mask.getInstance();

    $("#valiCodeImg").bind("click", function() {
      this.src = "/Login/GetValidateCode?time=" + (new Date()).getTime();
    });


    //提示消息
    var maskMsg = {
      el: $('#J-ui-mask-msg'),
      show: function (isSuccess, msg) {
        var me = this;
        if (isSuccess) {
          me.el.find('i').removeClass().addClass('ico-success');
          me.el.removeClass().addClass('pop pop-success w-4');
        } else {
          me.el.find('i').removeClass().addClass('ico-error');
          me.el.removeClass().addClass('pop pop-error w-6');
        }
        me.el.find('.pop-text').html(msg);
        phoenix.util.toViewCenter(me.el);
        me.el.show();
        mask.show();
      },
      hide: function () {
        var me = this;
        me.el.hide();
        mask.hide();
      }
    };

    var eventFocus = function (el, msg) {
      $(el).parent().find('.ui-check').html(msg).removeClass().addClass('ui-check ui-check-tip').show();
    };
    var showError = function (el, msg) {
      $(el).parent().find('.ui-check').html('<i></i>' + msg).removeClass().addClass('ui-check').show();
    };
    var showLoading = function (el) {
      $(el).parent().find('.ui-check').html('&nbsp;&nbsp;&nbsp;&nbsp;').removeClass().addClass('ui-check ui-check-loading').show();
    };
    var hideLoading = function (el) {
      $(el).parent().find('.ui-check').removeClass().addClass('ui-check').hide();
    };
    var showRight = function (el, msg) {
      var msg = typeof msg == 'undefined' ? '' : msg;
      $(el).parent().find('.ui-check').html(msg).removeClass().addClass('ui-check ui-check-right').show();
    };
    var hideTip = function (el) {
      $(el).parent().find('.ui-check').removeClass().addClass('ui-check').hide();
    };

    //获取密码复杂等级
    var getPassowrdLevel = function (v) {
      var level = 0;
      if ((/^\d+$/).test(v) || (/^[A-Za-z]+$/).test(v) || (/^[^a-zA-Z0-9]+$/).test(v)) {
        level = 1;
      }
      if (((/\d+/).test(v) && (/[A-Za-z]+/).test(v)) || ((/\d+/).test(v) && (/[^a-zA-Z0-9]+/).test(v)) || ((/[A-Za-z]+/).test(v) && (/[^a-zA-Z0-9]+/).test(v))) {
        level = 2;
      }
      if ((/\d+/).test(v) && (/[A-Za-z]+/).test(v) && (/[^a-zA-Z0-9]+/).test(v)) {
        level = 3;
      }
      return level;
    };
    var checkPasswordNew = function () {
      var el = password, v = $.trim(el.val()), isPass = false, level, levelStr = '';
      if (v == '') {
        showError(el, '登陆密码不能为空');
        isPass = false;
      } else if (!(/^.{6,20}$/).test(v)) {
        showError(el, '长度有误，请输入6-20位字符');
        isPass = false;
      } else {
        isPass = true;
        level = getPassowrdLevel(v);

        if (level == 1) {
          levelStr = '弱';
        }
        if (level == 2) {
          levelStr = '中';
        }
        if (level == 3) {
          levelStr = '强';
        }
        showRight(el, '密码强度：' + levelStr);
      }
      return isPass;
    };
    var checkPasswordNew2 = function () {
      var el = password_new, v = $.trim(el.val()), isPass = false, level, levelStr = '';
      if (v == '') {
        showError(el, '确认新密码不能为空');
        isPass = false;
      } else if (v != $.trim(password.val())) {
        showError(el, '两次密码输入不一致');
        isPass = false;
      } else {
        isPass = true;
        showRight(el);
      }
      return isPass;
    };

    var checkUserName = function () {
      var el = userName, v = $.trim(el.val()), isPass = false, level, levelStr = '';
      if (v == '') {
        showError(el, '登录用户名不能为空');
        isPass = false;
      } else if (!(/^.{6,20}$/).test(v)) {
        showError(el, '长度有误，请输入6-20位字符');
        isPass = false;
      } else {
        isPass = true;
        showRight(el);
      }
      return isPass;
    };

    var checkCheckCode = function () {
      var el = checkCode, v = $.trim(el.val()), isPass = false, level, levelStr = '';
      if (v == '') {
        showError(el, '验证码不能为空');
        isPass = false;
      } else if (!(/^.{5}$/).test(v)) {
        showError(el, '验证码长度有误');
        isPass = false;
      } else {
        isPass = true;
        showRight(el);
      }
      return isPass;
    };

    var checkUserEmail = function () {
      var el = userEmail, v = $.trim(el.val()), isPass = false, level, levelStr = '';
      if (v == '') {
        showError(el, '安全邮箱不可为空');
        isPass = false;
      } else if (!valid_email(v)) {
        showError(el, '请输入正确的邮箱！');
        isPass = false;
      } else {
        isPass = true;
        showRight(el);
      }
      return isPass;
    };

    function valid_email(email) {
      var patten = new RegExp(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]+$/);
      return patten.test(email);
    }

    $('#closeTip1').click(function () {
      box.Close();
      location.href = "/home/index";

    });

    //新登陆密码
    userName.focus(function () {
      eventFocus(this, '6-20位字符组成，区分大小写');
    });
    userName.blur(function () {
      checkUserName();
    });
    //新登陆密码
    password.focus(function () {
      eventFocus(this, '6-20位字符组成，区分大小写');
    });
    password.blur(function () {
      checkPasswordNew();
    });
    //确认新登陆密码
    password_new.focus(function () {
      eventFocus(this, '请再次输入登录密码');
    });
    password_new.blur(function () {
      checkPasswordNew2();
    });

    userEmail.focus(function () {
      eventFocus(this, '请输入常用邮箱，用于密码找回');
    });
    userEmail.blur(function () {
      checkUserEmail();
    });

    checkCode.focus(function () {
      eventFocus(this, '');
    });
    checkCode.blur(function () {
      checkCheckCode();
    });


    //提交
    $('#J-button-submit-password').click(function () {
      if (checkUserName() && checkPasswordNew() && checkPasswordNew2() && checkUserEmail() && checkCheckCode) {

        var interval;
        try {
          $.ajax({
            url: '/Login/RegisterUserJson',
            method: 'post',
            cache: false,
            dataType: 'json',
            data: { 'key': $.trim($("#keyValue").val()), 'RegisterUserName': $.trim($("#userName").val()), 'RegisterPassWord': $.trim($("#userPassword").val()), 'RegisterEmail': $.trim($("#email").val()), 'code': $.trim($("#checkCode").val()) },
            beforeSend: function () {
              var button = $('#J-button-submit-text'), list = ['提交中   ', '提交中.  ', '提交中.. ', '提交中...'], i = 0;
              interval = setInterval(function () {
                button.text(list[i]);
                i += 1;
                if (i >= list.length) {
                  i = 0;
                }
              }, 300);
            },
            success: function (data) {
              clearInterval(interval);
              if (Number(data['isSuccess']) == 1) {
                if (Sys.ie != null) { fn("Idivs"); }
                else {
                  box.OverLay.Color = "rgb(51, 51, 51)";
                  box.Over = true;
                  box.OverLay.Opacity = 50;
                  box.Fixed = true;
                  box.Center = true; box.Show();
                }
              } else {
                maskMsg.show(false, data['msg']);
                setTimeout(function () {
                  maskMsg.hide();

                }, 2000);
              }
            }
          });
        } catch (err) {
          clearInterval(interval);
        }
      }
    });

    //操作后提示
    function fn(obj) {
      var Idivdok = document.getElementById(obj);
      Idivdok.style.display = "block";
      Idivdok.style.left = (document.documentElement.clientWidth - Idivdok.clientWidth) / 2 + document.documentElement.scrollLeft + "px";
      Idivdok.style.top = (document.documentElement.clientHeight - Idivdok.clientHeight) / 2 + document.documentElement.scrollTop - 40 + "px";
    }


  })(jQuery);

</script>
<style>
  .ui-check-tip{color:#999}
  .ui-check-right{padding-left:24px;color:green}
  .regBefore .col8 {
    padding-left:300px;
  }
  .regBefore .txt {
    border: 1px solid #999999;
    height: 25px;
    width: 200px;
    border-radius: 3px;
    line-height: 30px;
    color: #999999;
    margin-bottom: 5px;
    background: #F9F9F9;
  }
</style>
</div>

